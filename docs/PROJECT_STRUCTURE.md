# é¡¹ç›®ç»“æ„è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†Qwen3 Embedding & Rerankeræ£€ç´¢ç³»ç»Ÿçš„é¡¹ç›®ç»“æ„ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
qwen3_embedding/
â”œâ”€â”€ src/                           # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ test_qwen3_embedding.py    # Embeddingæ¨¡å‹æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_qwen3_reranker.py     # Rerankeræ¨¡å‹æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ hybrid_retrieval.py        # æ··åˆæ£€ç´¢ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ hybrid_retrieval_db.py     # å¸¦æ•°æ®åº“çš„æ··åˆæ£€ç´¢
â”‚   â”‚   â”œâ”€â”€ semantic_search.py         # è¯­ä¹‰æœç´¢ç¤ºä¾‹
â”‚   â”‚   â”œâ”€â”€ search_name.py             # å§“åç²¾ç¡®æœç´¢
â”‚   â”‚   â””â”€â”€ pdf_retrieval.py           # PDFæ£€ç´¢å·¥å…·
â”‚   â”œâ”€â”€ api/                       # APIæœåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ ray_qwen3.py              # Ray Serve APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ embeeding4openai.py       # OpenAIå…¼å®¹æ¥å£
â”‚   â”œâ”€â”€ tools/                     # å·¥å…·æ¨¡å—
â”‚   â”‚   â””â”€â”€ vector_db_manager.py      # å‘é‡æ•°æ®åº“ç®¡ç†å·¥å…·
â”‚   â””â”€â”€ utils/                     # å·¥å…·å‡½æ•°æ¨¡å—ï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ web/                          # Webç•Œé¢æ¨¡å—
â”‚   â””â”€â”€ vector_db_viewer.py          # å‘é‡æ•°æ®åº“å¯è§†åŒ–å·¥å…·
â”œâ”€â”€ scripts/                      # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ download_models.ps1          # æ¨¡å‹ä¸‹è½½è„šæœ¬ï¼ˆPowerShellï¼‰
â”‚   â”œâ”€â”€ download_models.bat          # æ¨¡å‹ä¸‹è½½è„šæœ¬ï¼ˆWindows CMDï¼‰
â”‚   â”œâ”€â”€ download_models.sh           # æ¨¡å‹ä¸‹è½½è„šæœ¬ï¼ˆLinux/Macï¼‰
â”‚   â”œâ”€â”€ start_viewer.bat             # å¯åŠ¨å¯è§†åŒ–å·¥å…·ï¼ˆWindowsï¼‰
â”‚   â””â”€â”€ start_viewer.ps1             # å¯åŠ¨å¯è§†åŒ–å·¥å…·ï¼ˆPowerShellï¼‰
â”œâ”€â”€ docs/                         # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md                    # è¯¦ç»†è¯´æ˜æ–‡æ¡£
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md         # é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”‚   â”œâ”€â”€ ray_config_guide.md          # Rayé…ç½®æŒ‡å—
â”‚   â”œâ”€â”€ å‘é‡æ•°æ®åº“å¯è§†åŒ–è½¯ä»¶ä½¿ç”¨è¯´æ˜.md  # å¯è§†åŒ–å·¥å…·ä½¿ç”¨è¯´æ˜
â”‚   â””â”€â”€ database_report.html         # æ•°æ®åº“æŠ¥å‘Š
â”œâ”€â”€ examples/                      # ç¤ºä¾‹æ–‡ä»¶
â”‚   â””â”€â”€ client.ipynb                # Jupyterå®¢æˆ·ç«¯ç¤ºä¾‹
â”œâ”€â”€ tests/                         # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ test_ray_api.py             # APIæµ‹è¯•
â”œâ”€â”€ models/                        # æ¨¡å‹æ–‡ä»¶ç›®å½•ï¼ˆä¸åŒ…å«åœ¨Gitä¸­ï¼‰
â”œâ”€â”€ vector_db/                     # å‘é‡æ•°æ®åº“ç›®å½•
â”œâ”€â”€ requirements.txt               # é¡¹ç›®ä¾èµ–
â””â”€â”€ .gitignore                     # Gitå¿½ç•¥æ–‡ä»¶
```

## ğŸ“‚ ç›®å½•è¯´æ˜

### `src/` - æºä»£ç ç›®å½•
åŒ…å«æ‰€æœ‰Pythonæºä»£ç ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»ï¼š

#### `src/core/` - æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- **test_qwen3_embedding.py**: Qwen3 Embeddingæ¨¡å‹çš„æµ‹è¯•å’ŒåŸºç¡€åŠŸèƒ½
- **test_qwen3_reranker.py**: Qwen3 Rerankeræ¨¡å‹çš„æµ‹è¯•å’ŒåŸºç¡€åŠŸèƒ½
- **hybrid_retrieval.py**: æ··åˆæ£€ç´¢ç³»ç»Ÿï¼ˆå†…å­˜ç‰ˆæœ¬ï¼‰
- **hybrid_retrieval_db.py**: æ··åˆæ£€ç´¢ç³»ç»Ÿï¼ˆæ•°æ®åº“ç‰ˆæœ¬ï¼‰
- **semantic_search.py**: è¯­ä¹‰æœç´¢ç¤ºä¾‹å’Œæ¼”ç¤º
- **search_name.py**: å§“åç²¾ç¡®æœç´¢åŠŸèƒ½
- **pdf_retrieval.py**: PDFæ–‡æ¡£æ£€ç´¢å·¥å…·

#### `src/api/` - APIæœåŠ¡æ¨¡å—
- **ray_qwen3.py**: Ray Serve APIæœåŠ¡ï¼Œæä¾›RESTfulæ¥å£
- **embeeding4openai.py**: OpenAIå…¼å®¹çš„Embeddingæ¥å£

#### `src/tools/` - å·¥å…·æ¨¡å—
- **vector_db_manager.py**: å‘é‡æ•°æ®åº“ç®¡ç†å·¥å…·ï¼Œæ”¯æŒæ‰¹é‡å¯¼å…¥ã€ç»Ÿè®¡ã€å¯¼å‡ºç­‰åŠŸèƒ½

#### `src/utils/` - å·¥å…·å‡½æ•°æ¨¡å—
- é¢„ç•™ç›®å½•ï¼Œç”¨äºå­˜æ”¾é€šç”¨å·¥å…·å‡½æ•°

### `web/` - Webç•Œé¢æ¨¡å—
- **vector_db_viewer.py**: åŸºäºStreamlitçš„å‘é‡æ•°æ®åº“å¯è§†åŒ–å·¥å…·

### `scripts/` - è„šæœ¬æ–‡ä»¶
åŒ…å«å„ç§å¹³å°çš„å¯åŠ¨å’Œå®‰è£…è„šæœ¬ï¼š

#### æ¨¡å‹ä¸‹è½½è„šæœ¬
- **download_models.ps1**: PowerShellç‰ˆæœ¬ï¼ˆWindowsï¼‰
- **download_models.bat**: æ‰¹å¤„ç†ç‰ˆæœ¬ï¼ˆWindows CMDï¼‰
- **download_models.sh**: Shellè„šæœ¬ç‰ˆæœ¬ï¼ˆLinux/Macï¼‰

#### åº”ç”¨å¯åŠ¨è„šæœ¬
- **start_viewer.bat**: å¯åŠ¨å¯è§†åŒ–å·¥å…·ï¼ˆWindowsï¼‰
- **start_viewer.ps1**: å¯åŠ¨å¯è§†åŒ–å·¥å…·ï¼ˆPowerShellï¼‰

### `docs/` - æ–‡æ¡£ç›®å½•
- **README.md**: é¡¹ç›®ä¸»è¦è¯´æ˜æ–‡æ¡£
- **PROJECT_STRUCTURE.md**: é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
- **ray_config_guide.md**: Ray Serveé…ç½®å’Œä½¿ç”¨æŒ‡å—
- **å‘é‡æ•°æ®åº“å¯è§†åŒ–è½¯ä»¶ä½¿ç”¨è¯´æ˜.md**: å¯è§†åŒ–å·¥å…·è¯¦ç»†ä½¿ç”¨è¯´æ˜
- **database_report.html**: æ•°æ®åº“ç»Ÿè®¡æŠ¥å‘Š

### `examples/` - ç¤ºä¾‹æ–‡ä»¶
- **client.ipynb**: Jupyter Notebookå®¢æˆ·ç«¯ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨API

### `tests/` - æµ‹è¯•æ–‡ä»¶
- **test_ray_api.py**: Ray APIæœåŠ¡çš„æµ‹è¯•è„šæœ¬

### å…¶ä»–ç›®å½•
- **models/**: å­˜æ”¾ä¸‹è½½çš„æ¨¡å‹æ–‡ä»¶ï¼ˆä¸åŒ…å«åœ¨Gitä¸­ï¼‰
- **vector_db/**: Chromaå‘é‡æ•°æ®åº“æ–‡ä»¶
- **.venv/**: Pythonè™šæ‹Ÿç¯å¢ƒï¼ˆä¸åŒ…å«åœ¨Gitä¸­ï¼‰

## ğŸ”„ æ–‡ä»¶ç§»åŠ¨å†å²

é¡¹ç›®æ–‡ä»¶ç»“æ„ç»è¿‡é‡æ–°æ•´ç†ï¼Œä¸»è¦å˜åŒ–ï¼š

1. **æ ¸å¿ƒåŠŸèƒ½æ¨¡å—** â†’ `src/core/`
2. **APIæœåŠ¡æ¨¡å—** â†’ `src/api/`
3. **å·¥å…·æ¨¡å—** â†’ `src/tools/`
4. **Webç•Œé¢** â†’ `web/`
5. **è„šæœ¬æ–‡ä»¶** â†’ `scripts/`
6. **æ–‡æ¡£æ–‡ä»¶** â†’ `docs/`
7. **ç¤ºä¾‹æ–‡ä»¶** â†’ `examples/`
8. **æµ‹è¯•æ–‡ä»¶** â†’ `tests/`

## ğŸ“ ä½¿ç”¨è¯´æ˜

### è¿è¡Œæ ¸å¿ƒåŠŸèƒ½
```bash
# æµ‹è¯•Embeddingæ¨¡å‹
python src/core/test_qwen3_embedding.py

# è¿è¡Œæ··åˆæ£€ç´¢
python src/core/hybrid_retrieval_db.py
```

### å¯åŠ¨Webç•Œé¢
```bash
# ç›´æ¥å¯åŠ¨
python web/vector_db_viewer.py

# ä½¿ç”¨è„šæœ¬å¯åŠ¨
.\scripts\start_viewer.bat
```

### å¯åŠ¨APIæœåŠ¡
```bash
python src/api/ray_qwen3.py
```

### ç®¡ç†å‘é‡æ•°æ®åº“
```bash
python src/tools/vector_db_manager.py
```

## ğŸ¯ è®¾è®¡åŸåˆ™

1. **æ¨¡å—åŒ–**: æŒ‰åŠŸèƒ½å°†ä»£ç åˆ†ä¸ºä¸åŒæ¨¡å—
2. **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„ç›®å½•ç»“æ„ä¾¿äºç»´æŠ¤å’Œæ‰©å±•
3. **å¯æ‰©å±•æ€§**: é¢„ç•™ç›®å½•å’Œæ¥å£ä¾¿äºæ·»åŠ æ–°åŠŸèƒ½
4. **è·¨å¹³å°**: æä¾›å¤šå¹³å°çš„è„šæœ¬æ”¯æŒ
5. **æ–‡æ¡£åŒ–**: å®Œå–„çš„æ–‡æ¡£è¯´æ˜

## ğŸ”® æœªæ¥æ‰©å±•

- `src/utils/`: å¯æ·»åŠ é€šç”¨å·¥å…·å‡½æ•°
- `src/models/`: å¯æ·»åŠ è‡ªå®šä¹‰æ¨¡å‹
- `src/config/`: å¯æ·»åŠ é…ç½®æ–‡ä»¶ç®¡ç†
- `src/data/`: å¯æ·»åŠ æ•°æ®å¤„ç†æ¨¡å— 